<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An치lisis Exhaustivo: Angry Politicians</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #c0392b;
            --background-color: #ecf0f1;
            --card-bg-color: #ffffff;
            --text-color: #34495e;
            --light-text-color: #ecf0f1;
            --border-radius: 8px;
            --box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            --code-bg-color: #2d2d2d;
            --code-text-color: #f8f8f2;
        }
        body {
            font-family: 'Georgia', 'Times New Roman', Times, serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.8;
            font-size: 17px;
        }
        header {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)), url('portada_clean.jpg');
            background-size: cover;
            background-position: center;
            color: var(--light-text-color);
            padding: 6rem 2rem;
            text-align: center;
            border-bottom: 5px solid var(--primary-color);
            position: relative;
        }
        header img.logo {
            width: 130px;
            height: 130px;
            background-color: white;
            border-radius: 50%;
            padding: 5px;
            border: 4px solid var(--light-text-color);
            box-shadow: 0 0 25px rgba(0,0,0,0.25);
        }
        header h1 {
            margin: 1rem 0 0.5rem 0;
            font-family: 'Segoe UI', sans-serif;
            font-size: 4rem;
            font-weight: 700;
            text-shadow: 3px 3px 5px rgba(0,0,0,0.3);
        }
        header h2 {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            font-weight: 300;
            font-style: italic;
            font-size: 1.75rem;
        }
        .authors {
            margin-top: 1.5rem;
            font-style: italic;
            opacity: 0.9;
        }
        nav {
            position: sticky;
            top: 0;
            background-color: var(--primary-color);
            padding: 1rem;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        nav ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
        nav ul li a {
            color: var(--light-text-color);
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 5px;
            transition: background-color 0.3s, transform 0.2s;
            font-weight: 500;
            font-family: 'Segoe UI', sans-serif;
            text-transform: uppercase;
            font-size: 0.9rem;
        }
        nav ul li a:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }
        .container {
            max-width: 1200px;
            margin: auto;
            padding: 3rem;
        }
        section {
            background-color: var(--card-bg-color);
            margin-bottom: 3rem;
            padding: 3rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        h3 {
            font-family: 'Segoe UI', sans-serif;
            color: var(--secondary-color);
            border-bottom: 3px solid var(--background-color);
            padding-bottom: 1rem;
            font-size: 2.5rem;
            margin-top: 0;
        }
         h4 {
            font-family: 'Segoe UI', sans-serif;
            color: var(--primary-color);
            font-size: 2rem;
            margin-top: 2.5rem;
            margin-bottom: 1.5rem;
        }
        h5 {
            font-family: 'Segoe UI', sans-serif;
            color: var(--text-color);
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 600;
            border-left: 5px solid var(--secondary-color);
            padding-left: 1rem;
        }
        .flex-container {
            display: flex;
            flex-wrap: wrap;
            gap: 3rem;
            align-items: flex-start;
        }
        .flex-item {
            flex: 1;
            min-width: 400px;
        }
        .flex-item img {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            border: 1px solid #ddd;
        }
        .img-caption {
            text-align:center;
            font-style:italic;
            color: #666;
            margin-top: 1rem;
            font-size: 0.9em;
        }
        code {
            background-color: #e8f0fe;
            color: #333;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.95em;
        }
        pre {
            background-color: var(--code-bg-color);
            color: var(--code-text-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            overflow-x: auto;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 0.9em;
            border: 1px solid #444;
            position: relative;
        }
        pre .code-title {
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--secondary-color);
            color: var(--code-text-color);
            padding: 2px 10px;
            border-radius: 5px;
            font-size: 0.8em;
            font-weight: bold;
        }
        ul {
            list-style-type: disc;
            list-style-position: outside;
            padding-left: 25px;
        }
        li {
            margin-bottom: 1rem;
        }
        
        /* --- ESTILOS PARA LA GALER칈A --- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .gallery-item img:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        /* ------------------------------ */

        /* --- ESTILOS PARA EL MODAL DE IMAGEN --- */
        .modal {
            display: none; 
            position: fixed;
            z-index: 1001; 
            padding-top: 60px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
        }
        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 800px;
            animation-name: zoom;
            animation-duration: 0.6s;
        }
        @keyframes zoom {
            from {transform:scale(0)}
            to {transform:scale(1)}
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }
        .modal-close:hover,
        .modal-close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
        /* ------------------------------------------- */


        footer {
            text-align: center;
            padding: 3rem;
            background-color: var(--primary-color);
            color: var(--light-text-color);
        }
        footer h4 {
            color: var(--light-text-color) !important;
            font-size: 2.5rem;
            margin: 0 0 2rem 0;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .email-list {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            align-items: center;
            padding: 0 1rem;
        }
        .email-list a {
            color: var(--light-text-color);
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            min-width: 200px;
            justify-content: center;
            flex: 1;
        }
        .email-list a:before {
            content: "九괦잺";
            font-size: 1.2rem;
        }
        .email-list a:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        blockquote {
            border-left: 5px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.5em 10px;
            font-style: italic;
        }
        cite {
            font-family: sans-serif;
            font-size: 0.8rem;
            color: #888;
            font-style: normal;
        }
    </style>
</head>
<body>

    <header>
        <h1>Angry Politicians</h1>
        <h2>Un An치lisis T칠cnico Exhaustivo</h2>
        <div class="authors">
            <p>Piero Guerrero, Diego Quispe, Angelo Soldi, Benjamin Soto </p>
            <p>Facultad de Computaci칩n, UTEC</p>
            <p>14 de julio de 2025</p>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#introduccion">Introducci칩n</a></li>
            <li><a href="#fisica">Motor de F칤sica</a></li>
            <li><a href="#logica">L칩gica del Juego</a></li>
            <li><a href="#mecanicas">Mec치nicas</a></li>
            <li><a href="#galeria">Galer칤a</a></li>
        </ul>
    </nav>

    <div class="container">

        <section id="introduccion">
            <h3>I. Visi칩n General del Proyecto</h3>
            <p>
                Este documento presenta una descripci칩n t칠cnica detallada del juego <strong>Angry Politicians</strong>. El proyecto fue concebido como un ejercicio integral de desarrollo de videojuegos, abarcando desde la creaci칩n de un sistema de f칤sica de bajo nivel hasta la implementaci칩n de la l칩gica de juego y las interfaces de usuario. Para las tareas de renderizado, gesti칩n de ventanas y manejo de sprites, se utiliz칩 la librer칤a multiplataforma <strong>SFML (Simple and Fast Multimedia Library)</strong>, gracias a su simplicidad y potencia.
            </p>
            <h4>Arquitectura General del Sistema</h4>
            <p>
                La arquitectura del juego est치 dise침ada de manera modular para separar las distintas responsabilidades y estados del juego. Este dise침o se compone de cinco partes fundamentales que gestionan el flujo de la experiencia del usuario.
            </p>
            <div class="flex-container">
                <div class="flex-item">
                    <img src="img2.png" alt="Diagrama de flujo general" style="max-width: 100%; height: auto; border-radius: var(--border-radius); box-shadow: var(--box-shadow);">
                    <p class="img-caption">Diagrama de alto nivel que ilustra el flujo entre las distintas pantallas del juego.</p>
                </div>
                <div class="flex-item">
                    <ul>
                        <li><strong>T칤tulo:</strong> Es la puerta de entrada al juego. Ofrece al jugador las opciones de iniciar una nueva partida (cargando el nivel por defecto), navegar a la pantalla de selecci칩n de nivel o cerrar la aplicaci칩n. </li>
                        <li><strong>Selecci칩n de Nivel:</strong> Este men칰 presenta los niveles disponibles a trav칠s de un sistema de p치ginas. El jugador puede navegar entre ellas usando flechas y, una vez que selecciona un nivel, el juego procede a cargarlo. </li>
                        <li><strong>Bucle del Juego:</strong> El n칰cleo interactivo donde se desarrolla la acci칩n principal.</li>
                        <li><strong>Men칰 de Pausa:</strong> Accesible durante el juego, permite reanudar la partida, reiniciarla o volver al men칰 principal.</li>
                        <li><strong>Men칰 de Victoria:</strong> Se muestra al eliminar a todos los objetivos de un nivel. Ofrece la opci칩n de reiniciar el nivel para mejorar la puntuaci칩n o salir.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="fisica">
            <h3>II. El N칰cleo T칠cnico: Motor de F칤sica Personalizado</h3>
            <p>
                La innovaci칩n t칠cnica m치s significativa de "Angry Politicians" reside en su sistema de f칤sica. En lugar de utilizar Box2D de manera convencional, optamos por desarrollar un <strong>wrapper</strong> o capa de abstracci칩n. Este wrapper nos otorga un control total sobre el proceso de detecci칩n de colisiones, permiti칠ndonos reemplazar la <em>narrow phase</em> de Box2D por nuestra propia implementaci칩n del <strong>Teorema del Eje Separador (SAT)</strong>.
            </p>
            
            <h4>An치lisis Detallado del Pipeline de F칤sica</h4>
            <p>
                El ciclo de vida de la simulaci칩n f칤sica en cada frame (una llamada a <code>m_world->Step()</code>) se divide en un pipeline h칤brido de seis fases, que combina la robustez de Box2D con la especificidad de nuestro c칩digo.
            </p>
             <img src="img3.png" alt="Pipeline de f칤sica" style="display:block; margin: 2rem auto; max-width: 60%;">
            
            <h5>Fase 1: Broad Phase (Box2D)</h5>
            <p>
                Esta es una fase de optimizaci칩n crucial. Box2D utiliza su estructura de datos altamente optimizada, <code>b2DynamicTree</code>, para identificar de manera muy eficiente (en tiempo $O(\log n)$) todos los pares de objetos cuyas cajas delimitadoras (AABBs) se superponen. Esto genera una lista de "contactos potenciales" que necesitan una verificaci칩n m치s precisa.
            </p>

            <h5>Fase 2: Narrow Phase (Nuestra Implementaci칩n)</h5>
            <p>
                Aqu칤 es donde nuestra l칩gica personalizada toma el control. Dentro del callback <code>PreSolve</code>, que Box2D llama para cada contacto potencial, deshabilitamos temporalmente el contacto y ejecutamos nuestro propio chequeo de colisi칩n. Este chequeo se basa en el algoritmo SAT para pol칤gonos y en c치lculos de distancia para c칤rculos. Basado en el resultado, decidimos si el contacto es real (y por lo tanto, lo volvemos a habilitar) o si debe ser ignorado.
            </p>


            <h5>Fases 3 y 5: Solver e Integration (Box2D)</h5>
            <p>
                Una vez que nuestra Narrow Phase ha filtrado los contactos, el <strong>Solver</strong> de Box2D se encarga de procesar los contactos que quedaron habilitados. Calcula los impulsos de separaci칩n, resuelve las penetraciones y aplica las fuerzas de fricci칩n y restituci칩n. Posteriormente, la fase de <strong>Integration</strong> utiliza estos resultados para actualizar las velocidades y posiciones de todos los cuerpos en el mundo.
            </p>

            <h5>Fases 4 y 6: Post-Solve y Cleanup (Nuestra Implementaci칩n)</h5>
            <p>
                Despu칠s de que el Solver ha hecho su trabajo, nuestro callback <code>PostSolve</code> se activa. Este es el punto de conexi칩n clave con la jugabilidad. Aqu칤, podemos acceder al impulso que se aplic칩 en la colisi칩n y usarlo para implementar mec치nicas como el da침o a los objetos. Finalmente, en la fase de <strong>Cleanup</strong>, si dos objetos se separan, el evento <code>EndContact</code> nos permite limpiar cualquier dato en cach칠 que hayamos guardado para ese contacto.
            </p>


        </section>

        <section id="logica">
            <h3>III. L칩gica del Juego y Creaci칩n de Niveles</h3>
            <p>La estructura del juego est치 definida por un diagrama de flujo detallado que gestiona todas las interacciones del usuario y los estados del juego.</p>
             <img src="img1.png" alt="Dise침o espec칤fico del juego" style="display:block; margin: 2rem auto; max-width: 90%;">
            <p class="img-caption">Diagrama de flujo detallado que muestra las decisiones y procesos dentro del juego.</p>
            
            <h4>Proceso de Creaci칩n de Objetos</h4>
            <p>Una de las caracter칤sticas m치s importantes de nuestro dise침o es que los niveles no est치n codificados de forma fija (hardcoded). En su lugar, se cargan a partir de datos estructurados, lo que permite una gran flexibilidad. Ofrecemos soporte nativo para figuras como rect치ngulos, c칤rculos, tri치ngulos y hex치gonos, adem치s de la capacidad de crear cualquier pol칤gono simple a partir de una lista de puntos.</p>
            
            <h5>Declaraci칩n de Nivel en 5 Pasos</h5>
            <ol>
                <li><strong>Declaraci칩n de L칤mites:</strong> Cada nivel puede tener un tama침o diferente. Usamos la <code>View</code> de SFML como una c치mara para manejar niveles grandes.</li>
                <li><strong>Declaraci칩n de Inicios:</strong> Se definen coordenadas de inicio que sirven como referencia para posicionar objetos en una cuadr칤cula de "bloques".</li>
                <li><strong>Seteo de Objetos Din치micos:</strong> Se definen los valores de los arreglos (<code>objSizes</code>, <code>objPositions</code>, etc.) y se pasan a una funci칩n <code>setObjects</code>. Esta funci칩n itera y crea tanto el cuerpo f칤sico en Box2D como la figura visible en SFML. A estos cuerpos se les a침ade informaci칩n extra como vida y defensa.</li>
                <li><strong>Seteo de Objetos Est치ticos:</strong> Se utiliza el mismo proceso que para los din치micos, pero los cuerpos se marcan como est치ticos (inm칩viles), como el suelo o plataformas fijas.</li>
                <li><strong>Seteo de Objetos Objetivo:</strong> Son los "pol칤ticos". Se crean de manera similar pero son siempre c칤rculos y tienen la propiedad de vida. La eliminaci칩n de todos ellos es la condici칩n de victoria.</li>
            </ol>
        </section>
        
        <section id="mecanicas">
            <h3>IV. Mec치nicas Detalladas del Juego</h3>
            <h4>Sistema de Vida, Defensa y Destrucci칩n</h4>
            <blockquote>
                "Dentro de los 'bodies' del mundo f칤sico de Box2D, se a침ade informaci칩n extra para determinar c칩mo se modifica la vida del objeto despu칠s de una colisi칩n. Para determinar cu치ndo a un objeto se le acaba la vida, se modific칩 el comportamiento del PostSolve, para calcular el da침o." 
            </blockquote>
            <p>
                Este sistema es el n칰cleo de la interactividad. Cada objeto din치mico tiene dos propiedades clave: <strong>vida</strong> y <strong>defensa</strong>. La defensa act칰a como un umbral de da침o: si un impacto genera un impulso inferior al valor de defensa del objeto, este no sufre da침o. Si el impulso es superior, el da침o se calcula como el impulso total multiplicado por un factor, y se resta de la vida del objeto.
            </p>

            <p>La lista <code>toDestroy</code> es procesada de forma segura en el bucle principal del juego para eliminar los cuerpos del mundo f칤sico y de SFML, generando al mismo tiempo los efectos de part칤culas correspondientes para dar feedback visual al jugador</p>
            <h4>Habilidad Especial del P치jaro y Sistema de Part칤culas</h4>
            <p>
                Para a침adir una capa de estrategia, los p치jaros poseen habilidades que el jugador puede activar con un clic durante el vuelo. Estas habilidades otorgan un impulso instant치neo a su velocidad, lo que se traduce en un impacto de mayor fuerza y, por consiguiente, un da침o incrementado. Adicionalmente, para mejorar la retroalimentaci칩n visual, se implement칩 un sistema de part칤culas simple para crear efectos como explosiones o la desaparici칩n de objetos.
            </p>
        </section>
        
        <section id="galeria">
            <h3>V. Galer칤a del Juego</h3>
            <p>Aqu칤 puedes ver algunas capturas de pantalla de "Angry Politicians" en acci칩n, mostrando la interfaz, la jugabilidad y los efectos visuales.</p>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="img9.png" alt="Captura de pantalla del juego 1" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img10.png" alt="Captura de pantalla del juego 2" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                     <img src="img11.png" alt="Captura de pantalla del juego 3" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img12.png" alt="Captura de pantalla del juego 4" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img13.png" alt="Captura de pantalla del juego 5" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img14.png" alt="Captura de pantalla del juego 6" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img15.png" alt="Captura de pantalla del juego 7" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img16.png" alt="Captura de pantalla del juego 8" onclick="openModal(this);">
                </div>
                <div class="gallery-item">
                    <img src="img17.png" alt="Captura de pantalla del juego 9" onclick="openModal(this);">
                </div>
            </div>
        </section>
        
    </div>

    <div id="imageModal" class="modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>


    <footer>
        <h4>Contacto</h4>
        <div class="email-list">
            <a href="mailto:piero.guerrero@utec.edu.pe">Piero Guerrero</a>
            <a href="mailto:diego.quispe.ap@utec.edu.pe">Diego Quispe</a>
            <a href="mailto:angello.soldi@utec.edu.pe">Angelo Soldi</a>
            <a href="mailto:benjamin.soto@utec.edu.pe">Benjamin Soto</a>
        </div>

        <div style="margin-top: 2.5rem; padding: 2.5rem 2rem 0; border-top: 1px solid rgba(236, 240, 241, 0.2);">
            <h4 style="color: var(--light-text-color); font-size: 1.5rem; margin-bottom: 1rem; margin-top: 0;">Agradecimientos y Futuro del Proyecto</h4>
            <p style="max-width: 800px; margin: 1rem auto; opacity: 0.9;">
                Queremos extender un agradecimiento especial a nuestro profesor, <strong>Eric Biagioli</strong>, por su invaluable gu칤a y mentor칤a durante el curso de Computaci칩n Gr치fica, que fue fundamental para la realizaci칩n de este proyecto.
            </p>
            <p style="max-width: 800px; margin: 1rem auto; opacity: 0.9;">
                Este proyecto es de c칩digo abierto. 춰Cualquier persona interesada en continuar su desarrollo, implementar nuevas caracter칤sticas o realizar mejoras es bienvenida a hacerlo! Nos encantar칤a ver c칩mo evoluciona.
            </p>
            <p style="margin-top: 1.5rem;">
                <a href="https://github.com/darkblackv32/Project-CS4016" target="_blank" style="background-color: var(--secondary-color); color: var(--light-text-color); padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: background-color 0.3s; display: inline-block;">Ver el Repositorio en GitHub 游</a>
            </p>
        </div>

        <p style="margin-top: 3rem;">&copy; 2025 - UTEC, Departamento de Ciencias de la Computaci칩n</p>
    </footer>

    <script>
        // Obtener los elementos del modal
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");

        // Funci칩n para abrir el modal
        function openModal(element) {
            modal.style.display = "block";
            modalImg.src = element.src;
        }

        // Funci칩n para cerrar el modal
        function closeModal() {
            modal.style.display = "none";
        }

        // Cerrar el modal si se hace clic fuera de la imagen
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>

</body>
</html>